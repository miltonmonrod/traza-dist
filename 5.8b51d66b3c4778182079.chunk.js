webpackJsonp([5],{"9yGb":function(e,o){e.exports=""},NVQs:function(e,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var t=i("WT6e"),r=i("Xjw4"),n=i("7DMc"),a=i("WPXp"),c=i("aAKi"),s=i("T+dH"),l=i("HCek"),d=i("EAH6"),p=i("EpbT"),u=this&&this.__decorate||function(e,o,i,t){var r,n=arguments.length,a=n<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,i,t);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(n<3?r(a):n>3?r(o,i,a):r(o,i))||a);return n>3&&a&&Object.defineProperty(o,i,a),a},m=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},f=function(){function e(e,o,i){this.parametricasService=e,this.storageService=o,this.servicePNotify=i,this.value=[],this.options={position:["bottom","right"]},this.inicializarModelo(),this.url=p.a.Url_uploadSop+"upload/report"}return e.prototype.ngAfterViewInit=function(){this.options={position:["bottom","right"],maxStack:8,timeOut:5e3,showProgressBar:!0,pauseOnHover:!0,lastOnBottom:!0,clickToClose:!0,preventDuplicates:!1,preventLastDuplicates:!1,theClass:"bg-c-pink no-icon",rtl:!1,animate:"rotate"}},e.prototype.ngOnInit=function(){},e.prototype.inicializarModelo=function(){this.date=new Date,this.registro={rs:""},this.Lista=[],this.reporte={idreportedispcomercializacion:-1,numeroexpediente:"",numeroregistrosanitario:null,fechainivigenciadisp:null,nombremodalidad:"",razonsocialtitular:"",nombreproducto:"",nombreprincipioactivo:"",concentracionppioactivo:"",codreportedisponibilidad:-1,motivoreportedisp:"",fechafinvigenciadisp:null,indnotificacioncorreo:"S",emailnotificacion:"",nombrearchivo:"",ruta:"",estado:"",fechareportedisp:null,idusuario:this.storageService.getCurrentSession().idusuario,idestablecimiento:this.storageService.getCurrentSession().idestablecimiento}},e.prototype.BuscarRS=function(){var e=this;""!==this.registro.rs&&null!==this.registro.rs&&this.parametricasService.getRegistroSanitario(this.registro.rs).subscribe(function(o){e.Lista=o,0===e.Lista.length&&(e.servicePNotify.info("TRAZA","No se encontr\xf3 informaci\xf3n del n\xfamero de expediente ingresado.",""),e.reporte={idreportedispcomercializacion:-1,numeroexpediente:"",numeroregistrosanitario:null,fechainivigenciadisp:null,nombremodalidad:"",razonsocialtitular:"",nombreproducto:"",nombreprincipioactivo:"",concentracionppioactivo:"",codreportedisponibilidad:-1,motivoreportedisp:"",fechafinvigenciadisp:null,indnotificacioncorreo:"S",emailnotificacion:"",nombrearchivo:"",ruta:"",estado:"",fechareportedisp:null,idusuario:441,idestablecimiento:885})},function(o){e.error=o,"Unauthorized"===o.statusText&&(e.servicePNotify.error("TRAZA","Se perdio la sesi\xf3n, por favor loguearse de nuevo",""),e.storageService.logout()),console.log(o)})},e.prototype.seleccionarRegistro=function(e){this.reporte.numeroregistrosanitario=e.nroregsan,this.reporte.concentracionppioactivo=e.concetracion,this.reporte.numeroexpediente=e.nroexpediente,this.reporte.nombreproducto=e.nmbproducto1,this.reporte.razonsocialtitular=e.TITULAR,this.reporte.nombreprincipioactivo=e.principio_Activo,this.reporte.nombremodalidad=e.modcompuesta,this.reporte.fechainivigenciadisp=e.fchvencimiento},e.prototype.showPanel=function(){this.reporte.numeroregistrosanitario=null,this.reporte.fechainivigenciadisp=null,this.reporte.codreportedisponibilidad=-1,this.reporte.motivoreportedisp="",this.reporte.fechafinvigenciadisp=null,this.reporte.indnotificacioncorreo="S",this.reporte.emailnotificacion=""},e.prototype.onSubmitReporte=function(e){var o=this;null!=this.reporte.fechainivigenciadisp?-1!=this.reporte.codreportedisponibilidad?"4974"!==this.reporte.codreportedisponibilidad.toString()||null!=this.reporte.fechafinvigenciadisp?e&&("4974"===this.reporte.codreportedisponibilidad.toString()||"4976"===this.reporte.codreportedisponibilidad.toString()?this.reporte.estado="A":this.reporte.estado="T",this.parametricasService.addRepDisponibilidad(this.reporte).subscribe(function(e){e.operacionExitosa?"4974"===o.reporte.codreportedisponibilidad.toString()||"4976"===o.reporte.codreportedisponibilidad.toString()?(o.servicePNotify.html("<h4>Guardado de datos</h4><p>Los datos se han guardado correctamente!</p>","info"),o.inicializarModelo()):"4975"===o.reporte.codreportedisponibilidad.toString()&&(o.url=p.a.Url_uploadSop+"upload/report?idrepdispcomer="+e.entidad.idreportedispcomercializacion,document.querySelector("#cargarDocSoporte").classList.add("md-show")):o.servicePNotify.html("<h4>Error al salvar los datos <p>"+e.mensaje+"</p></h4>","error")},function(e){o.error=e,"Unauthorized"===o.error.statusText&&o.storageService.logout(),console.log(e)})):this.servicePNotify.error("TRAZA","Seleccione la Fecha estimada del reingreso.",""):this.servicePNotify.error("TRAZA","Seleccione el tipo de reporte.",""):this.servicePNotify.error("TRAZA","Seleccione la vigencia.","")},e.prototype.changeTipoReporte=function(){"4974"===this.reporte.codreportedisponibilidad.toString()?this.titulo="Motivo de fuerza mayor o caso fortuito, plenamente probados y justificados, por los cuales no puede comercializar el producto:":"4975"===this.reporte.codreportedisponibilidad.toString()?(this.reporte.motivoreportedisp="",this.titulo="",this.reporte.fechafinvigenciadisp=null):"4976"===this.reporte.codreportedisponibilidad.toString()&&(this.titulo="Justificaci\xf3n del reingreso:",this.reporte.fechafinvigenciadisp=null)},e.prototype.closeMyModal=function(e){e.target.parentElement.parentElement.parentElement.classList.remove("md-show"),this.inicializarModelo()},e.prototype.subidaCompleta=function(e){var o=this;"true"===e.request.response?setTimeout(function(){o.servicePNotify.html("<h4>Subida de datos</h4><p>El archivo se han subido correctamente y su solicitud ha sido enviada!</p>","info"),o.inicializarModelo(),document.querySelector("#cargarDocSoporte").classList.remove("md-show")},15):setTimeout(function(){o.servicePNotify.error("Subida de datos","Error al cargar el archivo!")},25),this.uploader.instance.reset()},u([Object(t.ViewChild)(d.DxFileUploaderComponent),m("design:type",d.DxFileUploaderComponent)],e.prototype,"uploader",void 0),e=u([Object(t.Component)({selector:"app-contratos",template:i("bZkJ"),styles:[i("9yGb"),i("3FNq")],animations:[Object(a.trigger)("fadeInOutTranslate",[Object(a.transition)(":enter",[Object(a.style)({opacity:0}),Object(a.animate)("400ms ease-in-out",Object(a.style)({opacity:1}))]),Object(a.transition)(":leave",[Object(a.style)({transform:"translate(0)"}),Object(a.animate)("400ms ease-in-out",Object(a.style)({opacity:0}))])])],providers:[c.a]}),m("design:paramtypes",[c.a,s.a,l.NotificationsService])],e)}(),b=i("bfOx"),g=this&&this.__decorate||function(e,o,i,t){var r,n=arguments.length,a=n<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,i,t);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(n<3?r(a):n>3?r(o,i,a):r(o,i))||a);return n>3&&a&&Object.defineProperty(o,i,a),a},v=[{path:"",component:f,data:{title:"Reporte disponibilidad y control de los medicamentos",icon:"ti-user",caption:"Por medio de este formato se presenta la informaci\xf3n correspondiente a la comercializaci\xf3n de un medicamento con registro sanitario vigente, de acuerdo a los art\xedculos 8 y 9 del Decreto 843 de 2016",status:!0}}],h=function(){function e(){}return e=g([Object(t.NgModule)({imports:[b.g.forChild(v)],exports:[b.g]})],e)}(),y=i("fAE3"),x=i("oHSm"),S=i("ItHS"),O=i("DtvI"),j=i("2yGx"),M=i("kzcK");i.d(o,"NgbDateCustomParserFormatter",function(){return C}),i.d(o,"NgbUTCStringAdapter",function(){return N}),i.d(o,"RepDisponibilidadModule",function(){return P});var T,R=this&&this.__extends||(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i])},function(e,o){function i(){this.constructor=e}T(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}),w=this&&this.__decorate||function(e,o,i,t){var r,n=arguments.length,a=n<3?o:null===t?t=Object.getOwnPropertyDescriptor(o,i):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,i,t);else for(var c=e.length-1;c>=0;c--)(r=e[c])&&(a=(n<3?r(a):n>3?r(o,i,a):r(o,i))||a);return n>3&&a&&Object.defineProperty(o,i,a),a},C=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return R(o,e),o.prototype.parse=function(e){if(e){var o=e.trim().split(".");if(1===o.length&&Object(j.d)(o[0]))return{day:Object(j.h)(o[0]),month:null,year:null};if(2===o.length&&Object(j.d)(o[0])&&Object(j.d)(o[1]))return{day:Object(j.h)(o[0]),month:Object(j.h)(o[1]),year:null};if(3===o.length&&Object(j.d)(o[0])&&Object(j.d)(o[1])&&Object(j.d)(o[2]))return{day:Object(j.h)(o[0]),month:Object(j.h)(o[1]),year:Object(j.h)(o[2])}}return null},o.prototype.format=function(e){return e?(Object(j.d)(e.day)?Object(j.f)(e.day):"")+"/"+(Object(j.d)(e.month)?Object(j.f)(e.month):"")+"/"+e.year:""},o=w([Object(t.Injectable)()],o)}(M.b),N=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return R(o,e),o.prototype.fromModel=function(e){return e&&Number(e.substring(0,2))&&Number(e.substring(3,5)+1)&&Number(e.substring(6,10))?{year:Number(e.substring(6,10)),month:Number(e.substring(3,5)),day:Number(e.substring(0,2))}:null},o.prototype.toModel=function(e){return e?String("00"+e.day).slice(-2)+"/"+String("00"+e.month).slice(-2)+"/"+e.year.toString():null},o=w([Object(t.Injectable)()],o)}(M.a),P=function(){function e(){}return e=w([Object(t.NgModule)({imports:[r.CommonModule,n.FormsModule,n.ReactiveFormsModule,h,y.a,x.NgxDatatableModule,d.DxDataGridModule,d.DxButtonModule,d.DxListModule,d.DxSelectBoxModule,d.DxFileUploaderModule,l.SimpleNotificationsModule.forRoot()],providers:[{provide:S.HTTP_INTERCEPTORS,useClass:O.a,multi:!0},{provide:M.b,useClass:C},{provide:M.a,useClass:N}],declarations:[f]})],e)}()},bZkJ:function(e,o){e.exports='<simple-notifications [options]="options"></simple-notifications>\n<div class="page-body">\n    <div class="row">\n        <div class="col-sm-12">\n            <app-card [title]="\'Buscar registro sanitario\'" [cardOptionBlock]="true">\n                <div class="row">\n                    <div class="col-sm-12">\n                        <div class="form-group row">\n                            <label class="col-sm-4 col-form-label">* Ingrese el n&uacute;mero de expediente:</label>\n                            <div class="col-sm-6">\n                                <input type="number" class="form-control" name="rs" #rs="ngModel" [(ngModel)]="registro.rs" required>\n                            </div>\n                            <div class="col-sm-2">\n                                <button type="submit" (click)="BuscarRS()" class="btn btn-primary m-b-0">Buscar</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <br/>\n                <dx-data-grid id="gridContainer" [dataSource]="Lista" showBorders="true" [columnAutoWidth]="true" [rowAlternationEnabled]="true">\n                    <dxo-export [enabled]="true" fileName="Reporte registrio sanitario"></dxo-export>\n                    <dxo-filter-row [visible]="true"></dxo-filter-row>\n                    <dxo-header-filter [visible]="true"></dxo-header-filter>\n                    <dxo-group-panel [visible]="true" emptyPanelText="Arrastra una columna aqu\xed para agrupar por ella"></dxo-group-panel>\n                    <dxo-search-panel [visible]="true" [width]="240" placeholder="Buscar..."></dxo-search-panel>\n                    <dxi-column caption="Acciones" cellTemplate="accionCellTemplate"></dxi-column>\n                    <dxi-column dataField="nroregsan" caption="Registro sanitario"></dxi-column>\n                    <dxi-column dataField="fchvencimiento" caption="Vigencia"></dxi-column>\n                    <dxi-column dataField="nroexpediente" caption="# Expediente"></dxi-column>\n                    <dxi-column dataField="modcompuesta" caption="Modalidad"></dxi-column>\n                    <dxi-column dataField="TITULAR" caption="Titular / Importador"></dxi-column>\n                    <dxi-column dataField="nmbproducto1" caption="Producto"></dxi-column>\n                    <dxi-column dataField="principio_Activo" caption="Principio activo"></dxi-column>\n                    <dxi-column dataField="concetracion" caption="Concetraci\xf3n"></dxi-column>\n                    <dxo-remote-operations [sorting]="true" [paging]="true">\n                    </dxo-remote-operations>\n                    <dxo-summary>\n                        <dxi-total-item column="nroregsan" summaryType="count" displayFormat="Cantidad: {0}">\n                        </dxi-total-item>\n                    </dxo-summary>\n                    <dxo-paging [pageSize]="10"></dxo-paging>\n                    <dxo-pager [showPageSizeSelector]="true" [allowedPageSizes]="[10, 20, 40]"></dxo-pager>\n                    <div *dxTemplate="let d of \'accionCellTemplate\'">\n                        <div class="button-cell" style="text-align: center;">\n                            <i style="font-size:20px; cursor:pointer;" class="icofont icofont-law-document" placement="right" ngbTooltip="Seleccionar"\n                                (click)="seleccionarRegistro(d.data)"></i>\n                        </div>\n                    </div>\n                </dx-data-grid>\n                <br/>\n                <form #formCc="ngForm" (ngSubmit)="onSubmitReporte(formCc.valid)">\n                    <div class="row" *ngIf="reporte.numeroregistrosanitario !== null">\n                        <div class="col-sm-12">\n                            <div class="form-group row">\n                                <label class="col-sm-4 col-form-label">* Seleccione el tipo de reporte:</label>\n                                <div class="col-sm-8 input-group">\n                                    <label>\n                                        <input type="radio" name="codreportedisponibilidad" #codreportedisponibilidad [(ngModel)]="reporte.codreportedisponibilidad"\n                                            value="4974" (change)="changeTipoReporte()" />&nbsp;No comercializaci\xf3n Temporal</label>&nbsp;&nbsp;\n                                    <label>\n                                        <input type="radio" name="codreportedisponibilidad" #codreportedisponibilidad [(ngModel)]="reporte.codreportedisponibilidad"\n                                            value="4975" (change)="changeTipoReporte()" />&nbsp;Comercializaci\xf3n por exportaci\xf3n</label>&nbsp;&nbsp;\n                                    <label>\n                                        <input type="radio" name="codreportedisponibilidad" #codreportedisponibilidad [(ngModel)]="reporte.codreportedisponibilidad"\n                                            value="4976" (change)="changeTipoReporte()" />&nbsp;Reingreso</label>&nbsp;&nbsp;\n                                </div>\n                            </div>\n                            <div class="form-group row" *ngIf="reporte.codreportedisponibilidad.toString() === \'4974\' || reporte.codreportedisponibilidad.toString() === \'4976\'">\n                                <label class="col-sm-4 col-form-label">* {{titulo}}</label>\n                                <div class="col-sm-8 input-group">\n                                    <textarea cols="100" class="form-control" name="motivoreportedisp" #motivoreportedisp="ngModel" [(ngModel)]="reporte.motivoreportedisp"\n                                        [required]="reporte.codreportedisponibilidad.toString() === \'4974\' || reporte.codreportedisponibilidad.toString() === \'4976\'"\n                                        [class.form-control-danger]="(formCc.submitted && motivoreportedisp.invalid) || (motivoreportedisp.touched && motivoreportedisp.invalid)"></textarea>\n                                </div>\n                            </div>\n                            <div class="form-group row" *ngIf="reporte.codreportedisponibilidad.toString() === \'4974\'">\n                                <label class="col-sm-4 col-form-label">* Fecha estimada del reingreso:</label>\n                                <div class="col-sm-8 input-group">\n                                    <input class="form-control" placeholder="dd/mm/aaaa" name="fechafinvigenciadisp" [(ngModel)]="reporte.fechafinvigenciadisp"\n                                        ngbDatepicker #fechafinvigenciadisp="ngbDatepicker" [required]="reporte.codreportedisponibilidad.toString() === \'4974\'"\n                                        [class.form-control-danger]="(formCc.submitted && fechafinvigenciadisp.invalid) || (fechafinvigenciadisp.touched && fechafinvigenciadisp.invalid)">\n                                    <div class="input-group-addon bg-default" (click)="fechafinvigenciadisp.toggle()">\n                                        <span class="icofont icofont-ui-calendar"></span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <label class="col-sm-4 col-form-label">* Desea recibir un correo con la confirmaci\xf3n de la informaci\xf3n reportada:</label>\n                                <div class="col-sm-8 input-group">\n                                    <label>\n                                        <input type="radio" name="indnotificacioncorreo" #indnotificacioncorreo [(ngModel)]="reporte.indnotificacioncorreo" value="S"/>&nbsp;Si</label>&nbsp;&nbsp;\n                                    <label>\n                                        <input type="radio" name="indnotificacioncorreo" #indnotificacioncorreo [(ngModel)]="reporte.indnotificacioncorreo" value="N"/>&nbsp;No</label>&nbsp;&nbsp;\n                                </div>\n                            </div>\n                            <div class="form-group row">\n                                <label class="col-sm-4 col-form-label">* Correo electr\xf3nico de notificaci\xf3n:</label>\n                                <div class="col-sm-8 input-group">\n                                    <input type="text" class="form-control" [class.form-control-danger]="(formCc.submitted && emailnotificacion.invalid) || (emailnotificacion.touched && emailnotificacion.invalid) || (emailnotificacion.errors?.pattern)"\n                                        name="emailnotificacion" #emailnotificacion="ngModel" [(ngModel)]="reporte.emailnotificacion" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$" required/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class="row" *ngIf="reporte.numeroregistrosanitario !== null">\n                        <div class="col-sm-12">\n                            <button type="submit" class="btn btn-primary m-b-0">Continuar</button>\n                            <button type="button" (click)="showPanel()" class="btn btn-primary m-b-0">Cancelar</button>\n                        </div>\n                    </div>\n                </form>\n                <div class="row" *ngIf="reporte.numeroregistrosanitario !== null">\n                    <div lass="col-sm-12">\n                        <app-modal-animation [modalID]="\'cargarDocSoporte\'" [modalClass]="\'md-effect-3\'">\n                            <h3>Documentos soporte de la comercializaci\xf3n por exportaci\xf3n</h3>\n                            <div>\n                                <p>Por favor seleccione el documento soporte de la comercializaci\xf3n por exportaci\xf3n, solamente en formato <b><em>PDF</em></b></p>\n                                <p>\n                                    <strong>Nota: </strong>Recuerde que si no sube el documento su solicitud no ser\xe1 enviada al INVIMA.\n                                </p>\n                                <div class="row">\n                                    <div class="col-sm-12">\n                                        <div class="form-group row">\n                                            <div class="col-sm-4">\n                                                <dx-file-uploader #fileUploader uploadUrl={{url}} [multiple]="false" accept="application/pdf" [(value)]="value" uploadMode="useButtons"\n                                                    labelText="" selectButtonText="Seleccionar"\n                                                    uploadButtonText="Subir" readyToUploadMessage=""\n                                                    uploadFailedMessage="Ocurrio un error!" (onUploaded)="subidaCompleta($event)"></dx-file-uploader>\n                                            </div>\n                                            <div class="col-sm-8">\n                                                <div *ngIf="value.length > 0">\n                                                    <h5 class="sub-title">Archivo seleccionado</h5>\n                                                </div>\n                                                <div *ngFor="let file of value">\n                                                    <div class="selected-item">\n                                                        Nombre:\n                                                        <span>{{file.name}}</span>\n                                                        <br /> Tama\xf1o:\n                                                        <span>{{file.size}}</span>bytes\n                                                        <br /> Tipo:\n                                                        <span>{{file.type}}</span>\n                                                        <br /> Fecha ultima modificaci\xf3n:\n                                                        <span>{{file.lastModifiedDate}}</span>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </app-modal-animation>\n                    </div>\n                </div>\n            </app-card>\n        </div>\n    </div>\n</div>'}});